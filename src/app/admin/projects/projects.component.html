<h1>Projects</h1>
<div class="row">
  <div class="col-8 mx-auto mb-3">
    <button class="btn btn-primary" data-toggle="modal" data-target="#newModal">
      Create Project
    </button>
  </div>
  <div class="col-8 mx-auto">
    <table class="table">
      <thead>
        <th>Project ID</th>
        <th>Project Name</th>
        <th>Start Date</th>
        <th>Team Size</th>
      </thead>

      <tbody>
        <tr *ngFor="let project of projects">
        <td>{{ project.projectID }}</td>
        <td>{{ project.projectName }}</td>
        <td>{{ project.dateOfStart }}</td>
        <td>{{ project.teamSize }}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>


<form [formGroup]="createProjectForm"
      (ngSubmit)="onCreateProject()">
<div class="modal" role="dialog" id="newModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title">
          <h4>Create New Project</h4>
        </div>
        <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
      </div>
        <div class="modal-body">
          <!-- Modal Body goes in here -->

           <!-- <div class="form-group row">
            <label for="projectID" class="col-sm-4 col-form-label">
              Project ID
            </label>
            <div class="col-sm-8">
              <input type="number"
                     name="projectID"
                     formControlName='projectID'
                     id="projectID"
                     [ngClass]="{
                      'is-invalid':
                        (createProjectForm.get('projectID').touched ||
                          createProjectForm.get('projectID').dirty) &&
                        !createProjectForm.get('projectID').valid
                    }"
              class="form-control">
              <span class="invalid-feedback">
                <span *ngIf="createProjectForm.get('projectID').errors?.required">
                  ProjectID is required*
                </span>
              </span>
            </div>
          </div> -->


           <div class="form-group row">
            <label for="projectName" class="col-sm-4 col-form-label">
              Project Name
            </label>
            <div class="col-sm-8">
              <input type="text"
                     name="projectName"
                     formControlName='projectName'
                     id="projectName"
                     [ngClass]="{
                      'is-invalid':
                        (createProjectForm.get('projectName').touched ||
                          createProjectForm.get('projectName').dirty) &&
                        !createProjectForm.get('projectName').valid
                    }"
              class="form-control">
              <span class="invalid-feedback">
                <span *ngIf="createProjectForm.get('projectName').errors?.required">
                  project name is required*
                </span>
                <span *ngIf="createProjectForm.get('projectName').errors?.minlength">
                  Minimum of three letters*
                </span>
              </span>
            </div>
          </div>

          <div class="form-group row">

            <label for="startDate" class="col-sm-4 col-form-label">Project Start Date</label>
            <!-- <label for="startDate" class="col-sm-4 col-form-label"></label> -->

            <div class="col-sm-8">
              <input type="datetime-local" id="startDate"
              name="startDate"
              formControlName='startDate'
                min="2020-10-09T00:00"
                [ngClass]="{
                  'is-invalid':
                    (createProjectForm.get('startDate').touched ||
                      createProjectForm.get('startDate').dirty) &&
                    !createProjectForm.get('startDate').valid}"
                class="form-control">
              <span class="invalid-feedback">
                <span *ngIf="createProjectForm.get('startDate').errors?.required">
                  Start date is required*
                </span>
              </span>
            </div>
          </div>


          <div class="form-group row">
            <label for="teamSize" class="col-sm-4 col-form-label">
              Team Size
            </label>
            <div class="col-sm-4">
              <input type="number"
                     name="teamSize"
                     formControlName='teamSize'
                     id="teamSize"
                     [ngClass]="{
                      'is-invalid':
                        (createProjectForm.get('teamSize').touched ||
                          createProjectForm.get('teamSize').dirty) &&
                        !createProjectForm.get('teamSize').valid
                    }"
              class="form-control">
              <span class="invalid-feedback">
                <span *ngIf="createProjectForm.get('teamSize').errors?.required">
                  Start date is required*
                </span>
              </span>
            </div>
          </div>
          <!-- End of modal body -->
        </div>
        <div class="modal-footer">
          <!-- modal footer if any -->
          <button (click)='resetForm()' class="btn btn-warning" data-dismiss="modal">Cancel</button>
          <button [disabled]="!createProjectForm.valid" class="btn btn-success">Save</button>
        </div>
    </div>
  </div>
</div>
</form>
